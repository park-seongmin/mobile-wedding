!function(x,h){"use strict";var f=function(t){var e=t.split(","),i={};return x.each(e,function(t,e){var a=e.split(":");i[a[0]]=a[1]}),i};"function"!=typeof window.wpexFancybox&&(window.wpexFancybox=function(){wpexFancyboxSingle(),wpexFancyboxGallery(),wpexFancyboxInlineGallery(),wpexFancyboxCarousels()}),"function"!=typeof window.wpexFancyboxSingle&&(window.wpexFancyboxSingle=function(t){(t=t||x("body")).on("click",".wpex-lightbox, .wpex-lightbox-video, .wpb_single_image.video-lightbox a, .wpex-lightbox-autodetect, .wpex-lightbox-autodetect a",function(t){t.preventDefault();var e=x(this);if(e.is("a")||(e=e.find("a")),!e.hasClass("wpex-lightbox-group-item")){var a=e.data()||{},i=e.attr("href")||e.data("src")||"",n=e.data("type")||"",o=e.data("caption")||"",l=e.attr("data-show_title")||!0,c=e.data("options")&&f(e.data("options"))||"";if(!a.parsedOpts){if(c&&(e.data("type")&&"iframe"===e.data("type")&&c.width&&c.height&&(a.width=c.width,a.height=c.height),c.iframeType&&"video"===c.iframeType&&(n="")),"iframe"===n&&a.width&&a.height&&(a.iframe={css:{width:a.width,height:a.height}}),"false"!==l){var p=e.data("title")||"";if(p.length){var r="fancybox-caption__title";o.length&&(r+=" fancybox-caption__title-margin"),o='<div class="'+r+'">'+p+"</div>"+o}}o.length&&(a.caption=o),a.parsedOpts=!0}e.hasClass("wpex-lightbox-iframe")&&(n="iframe"),e.hasClass("wpex-lightbox-inline")&&(n="inline"),"inline"===n&&(a.afterLoad=function(t,e){x(document).trigger("wpex-modal-loaded")}),e.hasClass("rev-btn")&&(n="",a={}),x.fancybox.open([{src:i,opts:a,type:n}],x.extend({},h,{}))}})}),"function"!=typeof window.wpexFancyboxGallery&&(window.wpexFancyboxGallery=function(t){t=t||x(document),document.querySelectorAll("a.wpex-lightbox-group-item").forEach(function(t){t.classList.remove("wpex-lightbox")}),t.on("click","a.wpex-lightbox-group-item",function(t){t.preventDefault(),x(".wpex-lightbox-group-item").removeAttr("data-lb-index");var r=x(this),e=r.closest(".wpex-lightbox-group").find("a.wpex-lightbox-group-item:visible"),s=[],d=0;e.each(function(t){var e=x(this),a=e.data()||{},i=e.attr("href")||e.data("src")||"",n="",o=e.attr("data-show_title")||!0,l=e.data("caption")||"",c=e.data("options")&&f("({"+e.data("options")+"})")||"";if(!a.parsedOpts){if(a.thumb=e.data("thumb")||i,c&&(a.thumb=c.thumbnail||a.thumb,c.iframeType&&"video"===c.iframeType&&(a.type="")),"false"!==o&&(n=e.data("title")||e.attr("title")||"").length){var p="fancybox-caption__title";l.length&&(p+=" fancybox-caption__title-margin"),l='<div class="'+p+'">'+n+"</div>"+l}l.length&&(a.caption=l),a.parsedOpts=!0}i&&(e.attr("data-lb-index",t),r[0]==e[0]&&(d=t),s.push({src:i,opts:a}))}),x.fancybox.open(s,x.extend({},h,{}),d)})}),"function"!=typeof window.wpexFancyboxInlineGallery&&(window.wpexFancyboxInlineGallery=function(t){(t=t||x(document)).on("click",".wpex-lightbox-gallery",function(t){t.preventDefault();var e=x(this).data("gallery")||"",l=[];e.length&&"object"==typeof e&&(x.each(e,function(t,e){var a={},i=e.title||"",n=e.caption||"";if(i.length){var o="fancybox-caption__title";n.length&&(o+=" fancybox-caption__title-margin"),n='<div class="'+o+'">'+i+"</div>"+n}n.length&&(a.caption=n),a.thumb=e.thumb||e.src,l.push({src:e.src,opts:a})}),x.fancybox.open(l,h))})}),"function"!=typeof window.wpexFancyboxCarousels&&(window.wpexFancyboxCarousels=function(t){(t=t||x(document)).on("click",".wpex-carousel-lightbox-item",function(t){t.preventDefault();var e=x(this),a=e.parents(".wpex-carousel").find(".owl-item"),l=[];if(a.each(function(){if(!x(this).hasClass("cloned")){var t=x(this).find(".wpex-carousel-lightbox-item");if(t.length){var e={},a=t.attr("href")||t.data("src")||"",i=t.data("title")||t.attr("title")||"",n=t.data("caption")||"";if("false"!==(t.attr("data-show_title")||!0)&&i.length){var o="fancybox-caption__title";n.length&&(o+=" fancybox-caption__title-margin"),n='<div class="'+o+'">'+i+"</div>"+n}n.length&&(e.caption=n),e.thumb=t.data("thumb")||a,l.push({src:a,opts:e})}}}),l.length&&"object"==typeof l){var i=e.data("count")-1||0;x.fancybox.open(l,x.extend({},h,{loop:!0}),i)}})}),"interactive"===document.readyState||"complete"===document.readyState?setTimeout(wpexFancybox,0):document.addEventListener("DOMContentLoaded",wpexFancybox,!1)}(jQuery,wpex_fancybox_params);