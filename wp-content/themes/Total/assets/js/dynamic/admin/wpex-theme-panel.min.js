!function(o){"use strict";function a(){var e=o("#wpex-header-builder-select, #wpex-footer-builder-select");if(e.length){var n=o("#wpex-admin-page table tr"),s=e.parents("tr"),i=o(".wpex-edit-template-links-ajax"),p=o(".wpex-edit-template-links-spinner");e.val()?i.show():(o(".wpex-create-new-template").show(),n.not(s).hide()),o(e).change(function(){var e,t,a=o(this).val();i.hide(),a?(n.show(),o(".wpex-create-new-template").hide(),e=a,t={action:i.data("action"),nonce:i.data("nonce"),template_id:e},p.show(),o.post(ajaxurl,t,function(e){e&&(i.html(e),i.show()),p.hide()})):(n.not(s).hide(),i.hide(),o(".wpex-create-new-template").show())})}}o(document).ready(function(){var s,e,t;o('.wpex-theme-panel__form-widgets input[type="text"]').change(function(){o(".wpex-theme-panel__savenag").show()}),o(".wpex-theme-panel__savenag a").click(function(e){e.preventDefault(),o(".wpex-theme-panel__form #submit").click()}),o(".wpex-checkbox, .wpex-theme-panel__widget input").change(function(){o(".wpex-theme-panel__savenag").show();var e=o(this).parents(".wpex-theme-panel__setting");e.data("status"),e.hasClass("wpex-disabled")?(e.addClass("wpex-enabled"),e.removeClass("wpex-disabled")):(e.addClass("wpex-disabled"),e.removeClass("wpex-enabled"))}),s="all",o(".wpex-theme-panel__sort-item").click(function(e){e.preventDefault();var t=o(this),a=t.parents(".wpex-theme-panel__sort"),n=o(this).data("filter");a.find(".wpex-theme-panel__sort-item").removeClass("wpex-theme-panel__sort-item--active"),t.addClass("wpex-theme-panel__sort-item--active"),"all"===n?(o(".wpex-theme-panel__setting").removeClass("wpex-hidden"),s="all"):"status-all"===n?s&&"all"!==s?o('.wpex-theme-panel__setting[data-category="'+s+'"]').removeClass("wpex-hidden"):o(".wpex-theme-panel__setting").removeClass("wpex-hidden"):"enabled"===n?s&&"all"!==s?(o('.wpex-theme-panel__setting[data-status="enabled"][data-category="'+s+'"]').removeClass("wpex-hidden"),o('.wpex-theme-panel__setting[data-status="disabled"][data-category="'+s+'"]').addClass("wpex-hidden")):(o(".wpex-theme-panel__setting").removeClass("wpex-hidden"),o('.wpex-theme-panel__setting[data-status="disabled"]').addClass("wpex-hidden")):"disabled"===n?s&&"all"!==s?(o('.wpex-theme-panel__setting[data-status="disabled"][data-category="'+s+'"]').removeClass("wpex-hidden"),o('.wpex-theme-panel__setting[data-status="enabled"][data-category="'+s+'"]').addClass("wpex-hidden")):(o(".wpex-theme-panel__setting").removeClass("wpex-hidden"),o('.wpex-theme-panel__setting[data-status="enabled"]').addClass("wpex-hidden")):(o(".wpex-theme-panel__setting").addClass("wpex-hidden"),o('.wpex-theme-panel__setting[data-category="'+n+'"]').removeClass("wpex-hidden"),s=n)}),o(".wpex-theme-panel__setting-toggle").click(function(e){e.preventDefault();var t=o(this),a=t.parent().next(),n=t.attr("aria-expanded");o(".wpex-theme-panel__setting-info").hide(),o(".wpex-theme-panel__setting-toggle").attr("aria-expanded","false"),"true"==n?(a.hide(),t.attr("aria-expanded","false")):(a.show(),t.attr("aria-expanded","true"))}),void 0!==o.fn.chosen&&(o(".wpex-chosen").chosen({disable_search_threshold:10}),o(".wpex-chosen").next(".chosen-container").addClass("wpex-chosen-icon-container"),o(".wpex-chosen-multiselect").chosen({search_contains:!0}),void 0!==o.fn.wpexChosenIcon&&o(".wpex-chosen-icon-select").wpexChosenIcon({search_contains:!0,disable_search_threshold:10}),o("#wpex_header_builder_select_chosen, #wpex_footer_builder_select_chosen").css("width","300")),void 0!==o.fn.wpColorPicker&&o(".wpex-color-field").wpColorPicker(),function(){o(".wpex-admin-tabs__tab").click(function(e){e.preventDefault();var t=o(this),a=t.attr("aria-controls");o(".wpex-admin-tabs__tab").removeClass("nav-tab-active").attr("aria-selected","false"),t.addClass("nav-tab-active").attr("aria-selected","true"),o(".wpex-admin-tabs__panel").each(function(){var e=o(this);e.removeClass("wpex-admin-tabs__panel--active"),a===e.attr("id")&&e.addClass("wpex-admin-tabs__panel--active")})});var a=0;o(".wpex-admin-tabs__list").keydown(function(e){var t=o(".wpex-admin-tabs__tab");39!==e.keyCode&&37!==e.keyCode||(t.eq(a).attr("tabindex",-1),39===e.keyCode?++a>=t.length&&(a=0):37===e.keyCode&&--a<0&&(a=t.length-1)),t.eq(a).attr("tabindex",0),t.eq(a).focus()})}(),function(){var n=o(".wpex-panel-js-tabs a");if(n.length){var e=o(".wpex-panel-js-tabs a.nav-tab-active").attr("href").substring(1);o(".wpex-"+e).show(),o(n).each(function(){var a=o(this);a.click(function(e){e.preventDefault(),n.removeClass("nav-tab-active"),a.addClass("nav-tab-active");var t=o(this).attr("href").substring(1);o(".wpex-tab-content").hide(),o(".wpex-"+t).show()})})}}(),o(".wpex-media-upload-button").click(function(e){e.preventDefault();var i=o(this),p=i.prev(),l=i.parent().find(".wpex-media-live-preview img"),d=i.parent().find(".wpex-media-remove"),r=wp.media({library:{type:"image"},multiple:!1}).on("select",function(e){var t=r.state().get("selection").first(),a=t.toJSON().id,n=t.toJSON().url;if(d.length&&d.addClass("wpex-show"),l.length)l.attr("src",n);else{var s=(l=i.parent().find(".wpex-media-live-preview")).data("image-size")?l.data("image-size"):"auto";l.append('<img src="'+n+'" style="height:'+s+"px;width:"+s+'px;" />')}p.val(a).trigger("change")}).open()}),o(".wpex-media-remove").each(function(){var e=o(this),t=e.parent().find(".wpex-media-input"),a=t.val(),n=e.parent().find(".wpex-media-live-preview");a&&e.addClass("wpex-show"),e.on("click",function(){return t.val(""),n.find("img").remove(),e.removeClass("wpex-show"),!1}),t.on("keyup change",function(){if(!o(this).val())return n.find("img").remove(),e.removeClass("wpex-show"),!1})}),o(".wpex-custom-css-panel-wrap .form-table").click(function(){o(".wpex-remember-to-save").show()}),o(".wpex-custom-css-panel-wrap .wpex-remember-to-save a").click(function(e){e.preventDefault(),o(".wpex-custom-css-panel-wrap form #submit").click()}),o("#wpex-dashicon-select a").click(function(){return o("#wpex-dashicon-select a.button-primary").removeClass("button-primary").addClass("button-secondary"),o(this).addClass("button-primary"),o(this).parents("#wpex-dashicon-select").next("input").val(o(this).data("value")),!1}),a(),(t=o("#wpex_image_resizing")).length&&(t.prop("checked"),e=o("#wpex_retina,#wpex_lazy_loading,#wpex_woo_support"),o(t).change(function(){o(this).prop("checked")?e.each(function(){o(this).closest("tr").show()}):e.each(function(){o(this).closest("tr").hide()})}).change()),o("#wpex-customizer-manager-admin-page").length&&(o(".wpex-customizer-check-all").click(function(){return o(".wpex-customizer-editor-checkbox").each(function(){this.checked=!0}),!1}),o(".wpex-customizer-uncheck-all").click(function(){return o(".wpex-customizer-editor-checkbox").each(function(){this.checked=!1}),!1}))})}(jQuery);