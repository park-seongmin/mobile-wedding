!function(o){"use strict";o(document).ready(function(){o(".wpex-license-activation__form").submit(function(e){e.preventDefault();var a=o(this),t=a.find(".wpex-license-activation__button"),n=a.find(".wpex-license-activation__spinner"),c=t.hasClass("activate")?"activate":"deactivate",s=a.find(".wpex-license-activation__input"),l=a.find(".wpex-license-activation__input-dev");o(".wpex-license-activation__notice").hide().removeClass("notice-warning updated notice-error"),o.ajax({type:"POST",url:ajaxurl,data:{action:"wpex_theme_license_form",process:c,license:a.find(".wpex-license-activation__input").val(),devlicense:l.is(":checked")?"checked":0,nonce:a.find("input#wpex_theme_license_form_nonce").val()},beforeSend:function(){n.addClass("wpex-license-activation__spinner--visible"),t.prop("disabled",!0)},success:function(e){if(n.removeClass("wpex-license-activation__spinner--visible"),t.prop("disabled",!1),e.success)if(l.parent().hide(),"activate"===c)s.attr("readonly","readonly"),t.removeClass("activate").addClass("deactivate").val(t.data("deactivate"));else if("deactivate"===c)if(s.attr("placeholder","").removeAttr("readonly"),s.val(""),t.removeClass("deactivate").addClass("activate").val(t.data("activate")),e.clearLicense){var a=window.location.href,i="";i=-1<a.indexOf("?")?a+"&license-cleared=1":a+"?license-cleared=1",window.location=i}else location.reload();e.message&&o(".wpex-license-activation__notice").addClass(e.messageClass).html("<p>"+e.message+"</p>").show()}})})})}(jQuery);